replicaCount: 1

image:
  repository: lscr.io/linuxserver/plex
  tag: "1.43.0"
  pullPolicy: IfNotPresent

# CRITICAL: hostNetwork required for Plex discovery (DLNA/GDM)
hostNetwork: true

# Hardware transcoding - requires privileged mode
gpu:
  enabled: true

persistence:
  config:
    hostPath: /home/muchini/media-data/config/plex
    mountPath: /config
  media:
    hostPath: /media
    mountPath: /media
    readOnly: true
  transcode:
    type: emptyDir
    mountPath: /transcode
    medium: Memory
    sizeLimit: 256Mi

environment:
  PUID: "1000"
  PGID: "1000"
  TZ: "Europe/Paris"
  VERSION: "docker"

resources:
  limits:
    memory: 4Gi
    cpu: 3500m
  requests:
    memory: 1Gi
    cpu: 1000m

# Priority class for pod scheduling
priorityClassName: media-high

nodeSelector:
  kubernetes.io/arch: arm64

service:
  type: ClusterIP
  port: 32400

# Network policy (limited effect with hostNetwork: true)
networkPolicy:
  enabled: true
